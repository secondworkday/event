<header layout layout-align="start center">
  <div flex>
    <h2 class="md-display-1">
      <span>{{event.name}}</span>
    </h2>
  </div>
  <div>
    <md-button ng-controller="ReportController" ng-click="downloadReport()" class="md-primary">Generate Reminders</md-button>
  </div>
</header>
<md-divider></md-divider>
<div class="u-sm-space"></div>

<section layout="column" layout-gt-sm="row">
  <div flex layout="column" layout-gt-sm="row">
    <div flex>
      <div layout layout-align="start center">
        <div>
          <h3 class="md-title">Team</h3>
        </div>
        <div>
          <md-button ng-click="showAddTeamMemberDialog($event)" class="md-primary md-icon-button"><i class="fa fa-plus"></i></md-button>
        </div>
      </div>
      <md-content>
        <md-list>
          <md-list-item class="md-3-line"
                        ng-click="DO_SOMETHING()"
                        ng-repeat="user in model.users.index | objectLookup:model.users.hashMap track by user.id">
            <div class="md-list-item-text">
              <h3>{{user.displayName}}</h3>
              <h4>{{user.email}}</h4>
            </div>
          </md-list-item>
        </md-list>
      </md-content>
    </div>

    <div flex>
      <div layout layout-align="start center">
        <div>
          <h3 class="md-title">Schools</h3>
        </div>
        <div>
          <md-button ng-click="showAddParticipantGroupDialog($event)" class="md-primary md-icon-button"><i class="fa fa-plus"></i></md-button>
        </div>
      </div>
      <md-content>
        <md-list>
          <md-list-item class="md-3-line"
                        ng-click="DO_SOMETHING()"
                        ng-repeat="participantGroup in eventParticipantGroupsIndex | objectLookup:model.participantGroups.hashMap track by participantGroup.id">
            <div class="md-list-item-text">
              <h3>{{participantGroup.name}}</h3>
              <h4>{{getParticipantCount(participantGroup.id)}} participants</h4>
            </div>
          </md-list-item>
        </md-list>
      </md-content>
    </div>

    <div flex>
      <div layout layout-align="start center">
        <div>
          <h3 class="md-title">Participants</h3>
        </div>
        <div>
          <md-button ng-click="showAddParticipantsDialog($event)" class="md-primary md-icon-button"><i class="fa fa-plus"></i></md-button>
        </div>
      </div>
      <md-content>
        <md-list>
          <md-list-item class="md-3-line"
                        ng-click="DO_SOMETHING()"
                        ng-repeat="ep in eventParticipantsIndex | objectLookup:model.eventParticipants.hashMap track by ep.id">
            <div class="md-list-item-text">
              <h3>{{model.participants.hashMap[ep.participantID].name}}</h3>
              <h4>{{model.participantGroups.hashMap[model.participants.hashMap[ep.participantID].participantGroupID].name}}</h4>
            </div>
          </md-list-item>
        </md-list>
      </md-content>
    </div>

    <div flex>
      <div layout layout-align="start center">
        <div>
          <h3 class="md-title">Sessions</h3>
        </div>
        <div>
          <md-button ng-click="showAddSessionDialog($event)" class="md-primary md-icon-button"><i class="fa fa-plus"></i></md-button>
        </div>
      </div>
      <md-content>
        <md-list>
          <md-list-item class="md-3-line"
                        ng-click="DO_SOMETHING()"
                        ng-repeat="session in eventSessionsIndex | objectLookup:model.eventSessions.hashMap track by session.id">
            <div class="md-list-item-text">
              <h3>{{session.name}}</h3>
              <h4>{{session.startDate | date:'MMM dd @ h:mma' }}</h4>
              <p>{{session.location}}</p>
            </div>
          </md-list-item>
        </md-list>
      </md-content>
    </div>
  </div>
</section>

<div ms-debug-only>
  <h4>EventSessions</h4>
  <pre>{{eventSessionsIndex | json}}</pre>

  <h4>EventParticipantsIndex</h4>
  <pre>{{eventParticipantsIndex | json}}</pre>

  <h4>eventParticipantGroupsIndex</h4>
  <pre>{{eventParticipantGroupsIndex | json}}</pre>

  <h4>Users</h4>
  <pre>{{model.users | json}}</pre>
</div>

